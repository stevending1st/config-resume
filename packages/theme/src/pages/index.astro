---
import Awards from '../components/Awards.astro';
import Basics from '../components/Basics.astro';
import Certificates from '../components/Certificates.astro';
import Education from '../components/Education.astro';
import Interests from '../components/Interests.astro';
import Languages from '../components/Languages.astro';
import Projects from '../components/Projects.astro';
import Publications from '../components/Publications.astro';
import References from '../components/References.astro';
import Skills from '../components/Skills.astro';
import Summary from '../components/Summary.astro';
import Volunteer from '../components/Volunteer.astro';
import Work from '../components/Work.astro';
import LanguageSelector from '../components/LanguageSelector.astro';
import Layout from '../layouts/Layout.astro';

import lang, { supportedLanguages } from 'virtual:config-resume:i18n';
import resume from 'virtual:config-resume:resume';

const {
  basics,
  work,
  volunteer,
  education,
  awards,
  certificates,
  publications,
  skills,
  languages,
  interests,
  references,
  projects
} = resume || {};
const { summary, ...otherBasics } = basics || {};
---

<Layout title="Welcome to Astro.">
  <main class="flex w-full min-h-screen bg-slate-200 justify-center">
    <div
      class="max-lg:w-full w-[64rem] print:w-full max-sm:px-4 max-md:px-10 max-lg:px-20 px-24 max-sm:py-5 max-lg:py-20 py-20 max-sm:my-0 my-10 print:my-0 bg-white my-15 drop-shadow-xl print:drop-shadow-none border border-gray-300 print:border-none"
    >
      {
        supportedLanguages.length !== 0 && supportedLanguages.length !== 1 && (
          <div class="flex justify-end print:hidden">
            <LanguageSelector supportedLanguages={supportedLanguages} />
          </div>
        )
      }

      <div class="divide-y divide-gray-400 divide-dashed *:py-5">
        <Basics {...otherBasics} />

        <Summary componentNameText={lang.summary} summary={summary} />

        <Education componentNameText={lang.education} education={education} />

        <Certificates
          componentNameText={lang.certificates}
          certificates={certificates}
        />

        <Skills componentNameText={lang.skills} skills={skills} />

        <Projects componentNameText={lang.projects} projects={projects} />

        <Languages componentNameText={lang.languages} languages={languages} />

        <Work componentNameText={lang.work} work={work} />

        <Publications
          componentNameText={lang.publications}
          publications={publications}
        />

        <Awards componentNameText={lang.awards} awards={awards} />

        <Interests componentNameText={lang.interests} interests={interests} />

        <Volunteer componentNameText={lang.volunteer} volunteer={volunteer} />

        <References
          componentNameText={lang.references}
          references={references}
        />
      </div>
    </div>
  </main>
</Layout>
